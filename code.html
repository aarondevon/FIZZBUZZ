<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <!-- Prism CSS -->
    <link rel="stylesheet" href="css/prism.css" />

    <!-- Site css -->
    <link rel="stylesheet" href="css/fizzbuzz.css" />
  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-expand-sm navbar-light bg-light">
        <a class="navbar-brand" href="index.html">FizzBuzz</a>
        <button
          class="navbar-toggler d-lg-none"
          type="button"
          data-toggle="collapse"
          data-target="#collapsibleNavId"
          aria-controls="collapsibleNavId"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavId">
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="solve.html">Solve</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="code.html">Code</a>
            </li>
          </ul>
        </div>
      </nav>

      <div class="jumbotron">
        <h1 class="display-3">FizzBuzz</h1>
        <figure>
          <!-- <figcaption>Your code title</figcaption> -->
          <pre data-src="js/site.js" data-download-link>
            <code class="code language-javascript line-numbers">
              const num1 = document.querySelector('#num1');
              const num2 = document.querySelector('#num2');

              document.querySelector('#fizzbuzzBtn').addEventListener('click', () => {
                template();
              })

              function runTheNumbers(num1, num2) {
                const output = [];
                for (let loop = 1; loop <= 100; loop++) {

                  if (fizzBuzz(loop, num1, num2)) {
                    // FizzBuzz
                    output.push('FizzBuzz');
                  } else if (buzz(loop, num2)) {
                    // Buzz
                    output.push('Buzz');
                  } else if (fizz(loop, num1)) {
                    // Fizz
                    output.push('Fizz')
                  } else {
                    // loop
                    output.push(`${loop}`);
                  }
                }
                return output;
              }

              const buzz = (loop, numInput2) => {
                return loop % numInput2 === 0;
              }

              const fizz = (loop, numInput1) => {
                return loop % numInput1 === 0;
              }

              const fizzBuzz = (loop, num1, num2) => {
                console.log(fizz(loop, num1) && buzz(loop, num2));
                return fizz(loop, num1) && buzz(loop, num2);
              }

              const template = () => {
                let output = [];
                const outputTable = document.querySelector('#outputTable');
                console.log(outputTable);
                const templateThead = document.querySelector('#templateThead')
                const templateTrow = document.querySelector('#templateTrow');


                let resultsHTML = templateThead.innerHTML;
                const rowHTML = templateTrow.innerHTML;

                output = runTheNumbers(num1.value, num2.value);
                
              for (let loop = 0; loop < output.length; loop+=5) {
                resultsHTML += rowHTML.replace('{{num1}}', output[loop])
                                      .replace('{{num2}}', output[loop+1])
                                      .replace('{{num3}}', output[loop+2])
                                      .replace('{{num4}}', output[loop+3])
                                      .replace('{{num5}}', output[loop+4])     
              }
              outputTable.innerHTML = resultsHTML;
              }
            </code>
          </pre>
        </figure>
        <hr class="my-5" />
        <p class="lead">
          <a
            class="btn btn-primary btn-lg"
            href="https://www.aarondevon.com/"
            target="_blank"
            role="button"
            >Portfolio</a
          >
          <a
            class="btn btn-primary btn-lg"
            href="https://github.com/aarondevon"
            target="_blank"
            role="button"
          >
            GitHub</a
          >
        </p>
      </div>
    </div>

    <!-- Prism JS -->
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
    <script src="js/prism.js"></script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>

    <!-- FizzBuzz script -->
    <script src="js/fizzbuzz.js"></script>
  </body>
</html>
